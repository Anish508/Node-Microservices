{"level":"error","message":"Error while creating a post Cannot read properties of undefined (reading 'userId')","service":"identity-service","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at createPost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:8:20)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:186:3)","timestamp":"2025-07-10T06:44:42.606Z"}
{"level":"error","message":"Error while creating a post Cannot read properties of undefined (reading 'userId')","service":"identity-service","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at createPost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:8:20)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:186:3)","timestamp":"2025-07-10T06:46:55.929Z"}
{"level":"error","message":"Error while creating a post Cannot read properties of undefined (reading 'userId')","service":"identity-service","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at createPost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:8:20)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:186:3)","timestamp":"2025-07-10T06:50:37.987Z"}
{"level":"error","message":"Error while creating a post Cannot read properties of undefined (reading 'userId')","service":"identity-service","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at createPost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:8:20)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:186:3)","timestamp":"2025-07-10T07:06:09.096Z"}
{"level":"error","message":"Error while creating a post Cannot read properties of undefined (reading 'userId')","service":"identity-service","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at createPost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:8:20)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:186:3)","timestamp":"2025-07-10T07:14:29.621Z"}
{"command":{"args":["posts:1: 10"],"name":"setex"},"level":"error","message":"Error while fetching posts ERR wrong number of arguments for 'setex' command","service":"identity-service","stack":"ReplyError: ERR wrong number of arguments for 'setex' command\n    at parseError (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\redis-parser\\lib\\parser.js:179:12)\n    at parseType (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\redis-parser\\lib\\parser.js:302:14)","timestamp":"2025-07-10T10:58:51.422Z"}
{"kind":"ObjectId","level":"error","message":"Error while fetching individual post Cast to ObjectId failed for value \"{ postId: undefined }\" (type Object) at path \"_id\" for model \"Post\"","path":"_id","reason":{},"service":"identity-service","stack":"CastError: Cast to ObjectId failed for value \"{ postId: undefined }\" (type Object) at path \"_id\" for model \"Post\"\n    at SchemaObjectId.cast (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\schemaType.js:1676:17)\n    at cast (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\cast.js:319:34)\n    at Query.cast (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\query.js:5055:12)\n    at Query._castConditions (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\query.js:2351:10)\n    at model.Query._findOne (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\query.js:2674:8)\n    at model.Query.exec (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getSinglePost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:86:18)","stringValue":"\"{ postId: undefined }\"","timestamp":"2025-07-11T06:12:48.980Z","value":{},"valueType":"Object"}
{"kind":"ObjectId","level":"error","message":"Error while fetching individual post Cast to ObjectId failed for value \"{ postId: '686f9c912ed38388503f0ff2' }\" (type Object) at path \"_id\" for model \"Post\"","path":"_id","reason":{},"service":"identity-service","stack":"CastError: Cast to ObjectId failed for value \"{ postId: '686f9c912ed38388503f0ff2' }\" (type Object) at path \"_id\" for model \"Post\"\n    at SchemaObjectId.cast (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\schemaType.js:1258:12)\n    at SchemaType.castForQuery (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\schemaType.js:1676:17)\n    at cast (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\cast.js:319:34)\n    at Query.cast (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\query.js:5055:12)\n    at Query._castConditions (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\query.js:2351:10)\n    at model.Query._findOne (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\query.js:2674:8)\n    at model.Query.exec (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\mongoose\\lib\\query.js:4604:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async getSinglePost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:86:18)","stringValue":"\"{ postId: '686f9c912ed38388503f0ff2' }\"","timestamp":"2025-07-11T06:14:06.792Z","value":{"postId":"686f9c912ed38388503f0ff2"},"valueType":"Object"}
{"level":"error","message":"Error while fetching individual post req.redisClient.setEx is not a function","service":"identity-service","stack":"TypeError: req.redisClient.setEx is not a function\n    at getSinglePost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:94:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-11T06:16:47.618Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Error while fetching individual post Cannot set headers after they are sent to the client","service":"identity-service","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\express\\lib\\response.js:250:15)\n    at getSinglePost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:95:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-11T06:17:20.854Z"}
{"level":"error","message":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\express\\lib\\response.js:684:10)\n    at ServerResponse.send (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\express\\lib\\response.js:161:12)\n    at ServerResponse.json (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\express\\lib\\response.js:250:15)\n    at getSinglePost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:101:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"identity-service","timestamp":"2025-07-11T06:17:20.857Z"}
{"level":"error","message":"Error while deleting post newlyCreatedPost is not defined","service":"identity-service","stack":"ReferenceError: newlyCreatedPost is not defined\n    at deletePost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:119:36)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-07-11T06:31:30.319Z"}
{"level":"error","message":"Error while creating a post validateContent is not a function","service":"identity-service","stack":"TypeError: validateContent is not a function\n    at createPost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:16:23)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:291:5)\n    at authenticatedRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\middleware\\authMiddleware.js:14:3)","timestamp":"2025-07-11T10:59:52.280Z"}
{"level":"error","message":"Error while creating a post validateContent is not a function","service":"identity-service","stack":"TypeError: validateContent is not a function\n    at createPost (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\controller\\postController.js:16:23)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\node_modules\\router\\index.js:291:5)\n    at authenticatedRequest (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\middleware\\authMiddleware.js:14:3)","timestamp":"2025-07-11T11:00:05.209Z"}
{"level":"error","message":"Failed to connect server: connectToRabbitMQ is not a function","service":"identity-service","stack":"TypeError: connectToRabbitMQ is not a function\n    at startServer (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\server.js:67:11)\n    at Object.<anonymous> (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\server.js:77:1)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Object..js (node:internal/modules/cjs/loader:1895:10)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:171:5)\n    at node:internal/main/run_main_module:36:49","timestamp":"2025-07-20T07:52:56.951Z"}
{"level":"error","message":"Failed to connect server: connectToRabbitMQ is not a function","service":"identity-service","stack":"TypeError: connectToRabbitMQ is not a function\n    at startServer (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\server.js:67:11)\n    at Object.<anonymous> (C:\\Node Microservices\\SOCIAL-MEDIA-MICROSERVICES\\post-service\\src\\server.js:77:1)\n    at Module._compile (node:internal/modules/cjs/loader:1730:14)\n    at Object..js (node:internal/modules/cjs/loader:1895:10)\n    at Module.load (node:internal/modules/cjs/loader:1465:32)\n    at Function._load (node:internal/modules/cjs/loader:1282:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:171:5)\n    at node:internal/main/run_main_module:36:49","timestamp":"2025-07-20T07:52:56.951Z"}
